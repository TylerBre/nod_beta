/*! Nod 2013-11-30, by Gorm Casper */
!function(a,b){"use strict";function c(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function d(a){return a[0]}function e(a){var b=function(a,b){return Array.prototype.slice.call(a,b||0)},c=b(arguments,1);return function(){return a.apply(this,c.concat(b(arguments)))}}function f(a,b){var c=function(a,b){return Array.prototype.slice.call(a,b||0)},b=b||a.length;return function(){var d;return arguments.length<b?(d=b-arguments.length,b-d>0?f(e.apply(this,[a].concat(c(arguments))),d):e.apply(this,[a].concat(c(arguments)))):a.apply(this,arguments)}}function g(a){if(a&&a.constructor&&a.call&&a.apply)return a;if(a instanceof RegExp)return function(b){return a.test(b)};var b=a.split(":"),c=b.shift(),d=y[c];if(!d)throw new Error("I don't know how to check for: "+c);return d.apply(this,b)}function h(a){function b(a){$(a.el).on("toggle:isValid",c)}function c(){var a=!x.allAreValid();d.prop("disabled",a).toggleClass("disabled",a)}if(a){var d=$(a);p(b,x.items),c()}}function i(a){return function(c){var e=q(A(c.target.value),a.checks),f=r(s(!0),e),g=d(u(t(!0),e))||a.validText;g!==b?a.textHolder.html(g).fadeIn():a.textHolder.hide(),a.group.toggleClass("has-success",f).toggleClass("has-error",!f),a.isValid!==f&&(a.isValid=f,$(a.el).trigger("toggle:isValid"))}}function j(a){$(a.el).on("keyup",w(i(a),700)).on("change blur",i(a))}function l(a){function b(a){g.push({el:a,isValid:null,checks:[],validText:"",textHolder:null,group:null})}function d(a,b){b.checks.push(function(b){return a.check(b)?!0:a.errorText}),b.validText=a.validText;var c=$("<span/>",{"class":"help-block nodText"}).hide();$(b.el).after(c),b.textHolder=c,b.group=$(b.el).parents(".form-group")}function e(a){a.elems.each(function(){p(d.bind(this,a),u(c(s(this),v("el")),g))})}function f(){return r(c(s(!0),v("isValid")),g)}var g=[],h=c(p(b),$,n("join"));return h(a),{items:g,attachCheck:e,allAreValid:f}}function m(a,b){x=l(o("selector",a)),p(x.attachCheck,B(a)),p(j,x.items),h(b.submitBtn)}var n=f(function(a,b){return b[a]()}),o=f(function(a,b){for(var c=[],d=-1;++d<b.length;)b[d]&&c.push(b[d][a]);return c}),p=(f(function(a,b){for(var c=[],d=-1;++d<a.length;)-1!==b.indexOf(a[d])&&c.push(a[d]);return c}),f(function(a,b){if(b.forEach)return b.forEach(a);if(b.length===+b.length)for(var c=-1;++c<b.length;)a(b[c]);else for(var d in b)b.hasOwnProperty(d)&&a(b[d]);return b})),q=f(function(a,b){if(b.map)return b.map(a);if(b.length===+b.length){for(var c=[],d=-1;++d<b.length;)c.push(a(b[d]));return c}var c={};for(var e in items_)b.hasOwnProperty(k)&&(c[e]=a(b[e]));return c}),r=f(function(a,b){for(var c=-1;++c<b.length;)if(!a(b[c]))return!1;return!0}),s=f(function(a,b){return b===a}),t=f(function(a,b){return b!==a}),u=f(function(a,b){if(b.filter)return b.filter(a);if(b.length===+b.length){for(var c=[],d=-1;++d<b.length;)a(b[d])&&c.push(b[d]);return c}var c={};for(var e in b)b.hasOwnProperty(e)&&a(b[e])&&(c[e]=b[e]);return c}),v=f(function(a,b){return b[a]}),w=function(a,b,c){var d,e,f,g,h;return function(){f=this,e=arguments,g=new Date;var i=function(){var j=new Date-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e)))},j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e)),h}},x=[],y={presence:function(){return function(a){return!!a}},empty:function(){return function(a){return 0===a.length||!1}},exact:function(a){return function(b){return b===a}},not:function(a){return function(b){return b!==a}},"same-as":function(a){if(1!==$(a).length)throw new Error("same-as selector must target one and only one element");return function(b){return b===$(a).val()}},min:function(a){return function(b){var c=isNaN(b)?b.length:+b;return c>=+a}},max:function(a){return function(b){var c=isNaN(b)?b.length:+b;return+a>=c}},between:function(a,b){return function(c){var d=isNaN(c)?c.length:+c;return d>=+a&&+b>=d}},"exact-length":function(a){return function(b){return b.length===+a}},integer:function(){return function(a){return z["int"].test(a)}},"float":function(){return function(a){return z["float"].test(a)}},email:function(){return function(a){return z.email.test(a)}}};y["one-of"]=y.presence,y["all-or-none"]=y.presence,y["min-length"]=y["min-num"]=y.min,y["max-length"]=y["max-num"]=y.max,y["between-length"]=y["between-num"]=y.between;var z={"int":/^\s*\d+\s*$/,"float":/^\s*[-+]?[0-9]+(\.[0-9]+)\s*?$/,email:/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*$/},A=f(function(a,b){return b(a)}),B=q(function(a){return{elems:$(a.selector),check:g(a.validate),validText:a.validText,errorText:a.errorText}});a.nod=m}(window);