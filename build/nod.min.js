/*! Nod 2013-11-26, by Gorm Casper */
!function(a){"use strict";function b(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function c(a){return a[0]}function d(a){var b=function(a,b){return Array.prototype.slice.call(a,b||0)},c=b(arguments,1);return function(){return a.apply(this,c.concat(b(arguments)))}}function e(a,b){var c=function(a,b){return Array.prototype.slice.call(a,b||0)},b=b||a.length;return function(){var f;return arguments.length<b?(f=b-arguments.length,b-f>0?e(d.apply(this,[a].concat(c(arguments))),f):d.apply(this,[a].concat(c(arguments)))):a.apply(this,arguments)}}function f(a){if(a&&a.constructor&&a.call&&a.apply)return a;if(a instanceof RegExp)return function(b){return a.test(b)};var b=a.split(":"),c=b[0],d=b[1],e=b[2];if("same-as"===c&&1!==$(d).length)throw new Error("same-as selector must target one and only one element");switch(c){case"presence":case"one-of":return function(a){return!!a};case"empty":return function(a){return 0===a.length||!1};case"exact":return function(a){return a===d};case"not":return function(a){return a!==d};case"same-as":return function(a){return a===$(d).val()};case"min-length":return function(a){return a.length>=+d};case"max-length":return function(a){return a.length<=+d};case"exact-length":return function(a){return a.length===+d};case"between":return function(a){return a.length>=+d&&a.length<=+e};case"integer":return function(a){return/^\s*\d+\s*$/.test(a)};case"min-num":return function(a){return+a>=+d};case"max-num":return function(a){return+d>=+a};case"between-num":return function(a){return+a>=+d&&+e>=+a};case"float":return function(a){return/^[-+]?[0-9]+(\.[0-9]+)?$/.test(a)};case"email":return function(a){var b=/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*$/;return b.test(a)};default:throw new Error("I don't know how to check for: "+c)}}function g(a){return function(b){var d=o(v(b.target.value),a.checks),e=p(q(!0),d),f=c(s(r(!0),d))||a.validText;a.textHolder.html(f).fadeIn(),a.group.toggleClass("has-success",e).toggleClass("has-error",!e)}}function h(a){$(a.el).on("keyup",g(a))}function i(a){function c(a){f.push({el:a,checks:[],validText:"",textHolder:null,group:null})}function d(a,b){b.checks.push(function(b){return a.check(b)?!0:a.errorText}),b.validText=a.validText;var c=$("<span/>",{"class":"help-block nodText"}).hide();$(b.el).after(c),b.textHolder=c,b.group=$(b.el).parents(".form-group")}function e(a){a.elems.each(function(){n(d.bind(this,a),s(b(q(this),t("el")),f))})}var f=[],g=b(n(c),$,l("join"));return g(a),{items:f,attachCheck:e}}function j(a){u=i(m("selector",a)),a=w(a),n(u.attachCheck,a),n(h,u.items)}var l=e(function(a,b){return b[a]()}),m=e(function(a,b){for(var c=[],d=-1;++d<b.length;)b[d][a]&&c.push(b[d][a]);return c}),n=(e(function(a,b){for(var c=[],d=-1;++d<a.length;)-1!==b.indexOf(a[d])&&c.push(a[d]);return c}),e(function(a,b){if(b.forEach)return b.forEach(a);if(b.length===+b.length)for(var c=-1;++c<b.length;)a(b[c]);else for(var d in b)b.hasOwnProperty(d)&&a(b[d]);return b})),o=e(function(a,b){if(b.map)return b.map(a);if(b.length===+b.length){for(var c=[],d=-1;++d<b.length;)c.push(a(b[d]));return c}var c={};for(var e in items_)b.hasOwnProperty(k)&&(c[e]=a(b[e]));return c}),p=e(function(a,b){for(var c=-1;++c<b.length;)if(!a(b[c]))return!1;return!0}),q=e(function(a,b){return b===a}),r=e(function(a,b){return b!==a}),s=e(function(a,b){if(b.filter)return b.filter(a);if(b.length===+b.length){for(var c=[],d=-1;++d<b.length;)a(b[d])&&c.push(b[d]);return c}var c={};for(var e in b)b.hasOwnProperty(e)&&a(b[e])&&(c[e]=b[e]);return c}),t=e(function(a,b){return b[a]}),u=[],v=e(function(a,b){return b(a)}),w=o(function(a){return{elems:$(a.selector),check:f(a.validate),validText:a.validText,errorText:a.errorText}});a.nod=j}(window);